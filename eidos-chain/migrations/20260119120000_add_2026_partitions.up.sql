-- Eidos Chain Service Database Migration
-- Version: 002
-- Description: Add 2026 partitions for time-series tables

-- ============================================
-- 1. chain_deposit_records 2026 年分区
-- ============================================
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_01 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1767225600000) TO (1769904000000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_02 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1769904000000) TO (1772323200000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_03 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1772323200000) TO (1775001600000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_04 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1775001600000) TO (1777593600000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_05 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1777593600000) TO (1780272000000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_06 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1780272000000) TO (1782864000000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_07 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1782864000000) TO (1785542400000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_08 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1785542400000) TO (1788220800000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_09 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1788220800000) TO (1790812800000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_10 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1790812800000) TO (1793491200000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_11 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1793491200000) TO (1796083200000);
CREATE TABLE IF NOT EXISTS chain_deposit_records_2026_12 PARTITION OF chain_deposit_records
    FOR VALUES FROM (1796083200000) TO (1798761600000);

-- ============================================
-- 2. chain_events 2026 年分区
-- ============================================
CREATE TABLE IF NOT EXISTS chain_events_2026_01 PARTITION OF chain_events
    FOR VALUES FROM (1767225600000) TO (1769904000000);
CREATE TABLE IF NOT EXISTS chain_events_2026_02 PARTITION OF chain_events
    FOR VALUES FROM (1769904000000) TO (1772323200000);
CREATE TABLE IF NOT EXISTS chain_events_2026_03 PARTITION OF chain_events
    FOR VALUES FROM (1772323200000) TO (1775001600000);
CREATE TABLE IF NOT EXISTS chain_events_2026_04 PARTITION OF chain_events
    FOR VALUES FROM (1775001600000) TO (1777593600000);
CREATE TABLE IF NOT EXISTS chain_events_2026_05 PARTITION OF chain_events
    FOR VALUES FROM (1777593600000) TO (1780272000000);
CREATE TABLE IF NOT EXISTS chain_events_2026_06 PARTITION OF chain_events
    FOR VALUES FROM (1780272000000) TO (1782864000000);
CREATE TABLE IF NOT EXISTS chain_events_2026_07 PARTITION OF chain_events
    FOR VALUES FROM (1782864000000) TO (1785542400000);
CREATE TABLE IF NOT EXISTS chain_events_2026_08 PARTITION OF chain_events
    FOR VALUES FROM (1785542400000) TO (1788220800000);
CREATE TABLE IF NOT EXISTS chain_events_2026_09 PARTITION OF chain_events
    FOR VALUES FROM (1788220800000) TO (1790812800000);
CREATE TABLE IF NOT EXISTS chain_events_2026_10 PARTITION OF chain_events
    FOR VALUES FROM (1790812800000) TO (1793491200000);
CREATE TABLE IF NOT EXISTS chain_events_2026_11 PARTITION OF chain_events
    FOR VALUES FROM (1793491200000) TO (1796083200000);
CREATE TABLE IF NOT EXISTS chain_events_2026_12 PARTITION OF chain_events
    FOR VALUES FROM (1796083200000) TO (1798761600000);
