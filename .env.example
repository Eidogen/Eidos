# ============================================================================
# Eidos Exchange - Environment Configuration Template
# ============================================================================
# Copy this file to .env and modify the values as needed.
# For environment-specific configurations, create .env.dev, .env.staging, .env.prod
# ============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
ENV=dev
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=eidos
POSTGRES_PASSWORD=eidos123

# Service-specific database names (each service has its own database)
POSTGRES_DATABASE_TRADING=eidos_trading
POSTGRES_DATABASE_MARKET=eidos_market
POSTGRES_DATABASE_CHAIN=eidos_chain
POSTGRES_DATABASE_RISK=eidos_risk
POSTGRES_DATABASE_JOBS=eidos_jobs
POSTGRES_DATABASE_ADMIN=eidos_admin

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_TLS_ENABLED=false

# -----------------------------------------------------------------------------
# Kafka Configuration
# -----------------------------------------------------------------------------
KAFKA_ENABLED=true
KAFKA_BROKERS=localhost:9092

# -----------------------------------------------------------------------------
# Nacos Service Discovery Configuration
# -----------------------------------------------------------------------------
NACOS_ENABLED=false
NACOS_SERVER_ADDR=localhost:8848
NACOS_NAMESPACE=eidos-dev
NACOS_USERNAME=
NACOS_PASSWORD=

# -----------------------------------------------------------------------------
# gRPC Service Addresses
# -----------------------------------------------------------------------------
GRPC_TRADING_ADDR=localhost:50051
GRPC_MATCHING_ADDR=localhost:50052
GRPC_MARKET_ADDR=localhost:50053
GRPC_CHAIN_ADDR=localhost:50054
GRPC_RISK_ADDR=localhost:50055

# Alternative naming (used by some services)
TRADING_ADDR=localhost:50051
MATCHING_ADDR=localhost:50052
MARKET_ADDR=localhost:50053
CHAIN_ADDR=localhost:50054
RISK_ADDR=localhost:50055
JOBS_ADDR=localhost:50056

# -----------------------------------------------------------------------------
# Blockchain Configuration
# -----------------------------------------------------------------------------
# Ethereum RPC endpoint (for development, use local node or testnet)
RPC_URL=http://localhost:8545
WS_URL=ws://localhost:8546

# Chain ID (31337 for Hardhat/Anvil local development)
CHAIN_ID=31337
EIP712_CHAIN_ID=31337

# Smart contract addresses
CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
EIP712_CONTRACT=0x0000000000000000000000000000000000000000

# Token addresses (set these after deploying tokens)
USDT_ADDRESS=0x0000000000000000000000000000000000000001
USDC_ADDRESS=0x0000000000000000000000000000000000000002

# Private key for transaction signing (DO NOT commit real keys!)
# For development only - use a test account
PRIVATE_KEY=

# Block confirmation requirements
DEPOSIT_CONFIRMATIONS=0
SETTLEMENT_CONFIRMATIONS=0
WITHDRAWAL_CONFIRMATIONS=1

# Block scanner start block
START_BLOCK=0

# -----------------------------------------------------------------------------
# EIP-712 Signature Configuration
# -----------------------------------------------------------------------------
# Enable mock mode for development (bypasses signature verification)
EIP712_MOCK_MODE=true

# -----------------------------------------------------------------------------
# Service Node Configuration
# -----------------------------------------------------------------------------
NODE_ID=1

# -----------------------------------------------------------------------------
# API Gateway Configuration
# -----------------------------------------------------------------------------
# Rate limiting
RATE_LIMIT_ENABLED=true

# WebSocket
WS_ALLOW_ALL_ORIGINS=true
WS_ENABLE_PRIVATE_AUTH=true

# -----------------------------------------------------------------------------
# Risk Service Configuration
# -----------------------------------------------------------------------------
RISK_ENABLED=true
FRAUD_DETECTION_ENABLED=true

# -----------------------------------------------------------------------------
# Matching Engine Configuration
# -----------------------------------------------------------------------------
MATCHING_ENABLED=true
HA_ENABLED=false

# -----------------------------------------------------------------------------
# Admin Service Configuration
# -----------------------------------------------------------------------------
# JWT secret (change this in production!)
JWT_SECRET=your-jwt-secret-key-change-in-production

# Default admin credentials (change in production!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# -----------------------------------------------------------------------------
# Notification Configuration
# -----------------------------------------------------------------------------
NOTIFICATION_ENABLED=false

# Slack
SLACK_WEBHOOK_URL=

# Email
SMTP_HOST=
SMTP_PORT=587
SMTP_FROM=

# -----------------------------------------------------------------------------
# Metrics & Monitoring
# -----------------------------------------------------------------------------
# Prometheus metrics are enabled by default on the following ports:
# - eidos-api:      9090
# - eidos-trading:  9091
# - eidos-market:   9092
# - eidos-matching: 9093
# - eidos-risk:     9094
# - eidos-chain:    9095
# - eidos-jobs:     9096
# - eidos-admin:    9097

# -----------------------------------------------------------------------------
# Docker Compose Overrides (for local development)
# -----------------------------------------------------------------------------
# Uncomment and modify these when running services in Docker

# POSTGRES_HOST=postgres
# REDIS_HOST=redis
# REDIS_ADDR=redis:6379
# KAFKA_BROKERS=kafka:9092
# NACOS_SERVER_ADDR=nacos:8848

# GRPC_TRADING_ADDR=eidos-trading:50051
# GRPC_MATCHING_ADDR=eidos-matching:50052
# GRPC_MARKET_ADDR=eidos-market:50053
# GRPC_CHAIN_ADDR=eidos-chain:50054
# GRPC_RISK_ADDR=eidos-risk:50055

# -----------------------------------------------------------------------------
# Production Configuration Notes
# -----------------------------------------------------------------------------
# For production deployments, ensure:
# 1. Use strong, unique passwords for all databases
# 2. Enable Redis TLS (REDIS_TLS_ENABLED=true)
# 3. Use secure Kafka configuration with SSL/SASL
# 4. Set proper blockchain RPC endpoints (use reliable providers)
# 5. Disable EIP712_MOCK_MODE
# 6. Use secure JWT_SECRET (min 32 characters, random)
# 7. Configure proper CORS origins
# 8. Enable Nacos for service discovery
# 9. Set appropriate rate limits
# 10. Configure proper log levels and monitoring

# ============================================================================
# End of Configuration
# ============================================================================
